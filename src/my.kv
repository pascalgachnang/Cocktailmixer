#:import Factory kivy.factory.Factory

#Windows

WindowManager:
    PositioningWindow:
    MainWindow1:
    MainWindow2:
    DrinkInProgress:


<PositioningWindow>:
    name: "positioning"
    
    GridLayout:
        cols: 1
        padding: 20

        

        Label:
            id: positioning_label
            text: "Start Positioning"
            size_hint_y: 0.8

        Button:
            text: "Start"
            size_hint: 0.6, 0.4
            pos_hint: {'center_x': 0.5}
            background_color: 0, 0.7, 0.7, 1  # Hintergrundfarbe des Buttons
            on_release: 
                app.calling_reference_run()
                Factory.P_PositioningComplete().open()

#Popups Positioning

<P_Positioning@Popup>: #Popup Positioning
    auto_dismiss: False
    title: "positioning..."
    Label:
        text: "positioning..."
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}

<P_PositioningComplete@Popup>: #Popup Positioning Complete
    auto_dismiss: False
    title: "Positioning complete"
    Button:
        text: "start mixing"
        size_hint: 0.8, 0.2
        pos_hint:  {"x":0.1, "y":0.1}
        on_release:
            app.root.current = "page one" 
            root.dismiss()
      
        
<MainWindow1>:
    name: "page one"

    BoxLayout:
        orientation: 'vertical'

        Label:
            text: '[b]Choose your drink[/b]'
            markup: True  
            padding: (5, 5)  
            border: (2, 2, 2, 2)  
            size_hint_y: None  
            height: 50  

        GridLayout:
            cols: 4
            spacing: 10
            padding: 10

            Button:
                id: btn1
                text: 'Wodka Martini'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Martini.jpg'

                on_press: app.IncomingDrinkOrder(self)
                    
                
            Button:
                id: btn2
                text: 'Wodka Soda'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Soda.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn3
                text: 'Wodka Cola'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Cola.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn4
                text: 'Kamikaze'
                font_size: 50
                background_normal: 'src/ressources/Kamikaze.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn5
                text: 'Metropolitan'
                font_size: 50
                background_normal: 'src/ressources/Metropolitan.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn6
                text: 'Screwdriver'
                font_size: 50
                background_normal: 'src/ressources/Screwdriver.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn7
                text: 'Wodka Sunrise'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Sunrise.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn8
                text: 'Wodka Sour'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Sour.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn9
                text: 'Wodka Ricky'
                font_size: 50
                background_normal: 'src/ressources/Wodka_Ricky.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn10
                text: 'Cosmopolitan'
                font_size: 50
                background_normal: 'src/ressources/Cosmopolitan.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn11
                text: 'Vesper'
                font_size: 50
                background_normal: 'src/ressources/Vesper.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                id: btn12
                text: 'Long Island Iced Tea'
                font_size: 50
                background_normal: 'src/ressources/Long_Island_Iced_Tea.JPG'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                text: "[b]page 1[/b]"
                markup: True 
                background_normal: 'src/ressources/Arrow_left.png'
                
                on_press: 
                    app.root.current = "page one"

            Button:
                id: btn13
                text: 'Gin Fizz'
                font_size: 50
                background_normal: 'src/ressources/Gin_Fizz.jpeg'

                on_press: app.IncomingDrinkOrder(self)


            Button:
                id: btn14
                text: 'Gin Martini'
                font_size: 50
                background_normal: 'src/ressources/Gin_Martini.jpg'

                on_press: app.IncomingDrinkOrder(self)

            Button:
                text: "[b]page 2[/b]"
                markup: True  
                background_normal: 'src/ressources/Arrow_right.png'

                on_press: 
                    app.root.current = "page two"
                

                

<MainWindow2>:
    name: "page two"
    
    BoxLayout:
        orientation: 'vertical'

        Label:
            text: '[b]Choose your drink[/b]'
            markup: True  
            padding: (5, 5)  
            border: (2, 2, 2, 2)  
            size_hint_y: None  
            height: 50  

        GridLayout:
            cols: 3
            spacing: 10
            padding: 10

            Button:
                text: 'Drink 1'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 2'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 3'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 4'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 5'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 6'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 7'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 8'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 9'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 9'
                on_press: app.root.current = "drink in progress"

            Button:
                text: 'Drink 9'
                on_press: app.root.current = "drink in progress"

            Button:
                text: "[b]page 1[/b]"
                markup: True  
                padding: (5, 5)  
                border: (2, 2, 2, 2) 
                on_press: 
                    app.root.current = "page one"
                    root.manager.transition.direction = "left"

<DrinkInProgress>:
    name: "drink in progress"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        Label:
            id: mixing_drink
            text: "0% Progress"

        ProgressBar:
            id: progress_bar
            min: 0
            max: 100
            value: 0
            pos_hint: {'x':.1}
            size_hint_x: .8

        Button:


            text: "Cancel"
            on_press: 
                app.root.current = "page one" if progress_bar.value < 100 else app.root.current
                

              